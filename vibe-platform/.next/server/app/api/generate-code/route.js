"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/generate-code/route";
exports.ids = ["app/api/generate-code/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-code%2Froute&page=%2Fapi%2Fgenerate-code%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-code%2Froute.ts&appDir=%2FUsers%2Fcno%2Fonchain-agent-2%2Fvibe-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcno%2Fonchain-agent-2%2Fvibe-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-code%2Froute&page=%2Fapi%2Fgenerate-code%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-code%2Froute.ts&appDir=%2FUsers%2Fcno%2Fonchain-agent-2%2Fvibe-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcno%2Fonchain-agent-2%2Fvibe-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_cno_onchain_agent_2_vibe_platform_src_app_api_generate_code_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/generate-code/route.ts */ \"(rsc)/./src/app/api/generate-code/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/generate-code/route\",\n        pathname: \"/api/generate-code\",\n        filename: \"route\",\n        bundlePath: \"app/api/generate-code/route\"\n    },\n    resolvedPagePath: \"/Users/cno/onchain-agent-2/vibe-platform/src/app/api/generate-code/route.ts\",\n    nextConfigOutput,\n    userland: _Users_cno_onchain_agent_2_vibe_platform_src_app_api_generate_code_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/generate-code/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZnZW5lcmF0ZS1jb2RlJTJGcm91dGUmcGFnZT0lMkZhcGklMkZnZW5lcmF0ZS1jb2RlJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGZ2VuZXJhdGUtY29kZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmNubyUyRm9uY2hhaW4tYWdlbnQtMiUyRnZpYmUtcGxhdGZvcm0lMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGY25vJTJGb25jaGFpbi1hZ2VudC0yJTJGdmliZS1wbGF0Zm9ybSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDMkI7QUFDeEc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlLXBsYXRmb3JtLz9lZjEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9jbm8vb25jaGFpbi1hZ2VudC0yL3ZpYmUtcGxhdGZvcm0vc3JjL2FwcC9hcGkvZ2VuZXJhdGUtY29kZS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZ2VuZXJhdGUtY29kZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2dlbmVyYXRlLWNvZGVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2dlbmVyYXRlLWNvZGUvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvY25vL29uY2hhaW4tYWdlbnQtMi92aWJlLXBsYXRmb3JtL3NyYy9hcHAvYXBpL2dlbmVyYXRlLWNvZGUvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2dlbmVyYXRlLWNvZGUvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-code%2Froute&page=%2Fapi%2Fgenerate-code%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-code%2Froute.ts&appDir=%2FUsers%2Fcno%2Fonchain-agent-2%2Fvibe-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcno%2Fonchain-agent-2%2Fvibe-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/generate-code/route.ts":
/*!********************************************!*\
  !*** ./src/app/api/generate-code/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_vibeCodeGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/vibeCodeGenerator */ \"(rsc)/./src/lib/vibeCodeGenerator.ts\");\n\n\nasync function POST(req) {\n    try {\n        const body = await req.json();\n        const { prompt, projectType = \"web-app\", framework = \"react\", features = [], optimizationEnabled = true } = body;\n        if (!prompt) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Prompt is required\"\n            }, {\n                status: 400\n            });\n        }\n        console.log(`[VibeSDK] Generating code for: ${prompt}`);\n        const codeGenerator = new _lib_vibeCodeGenerator__WEBPACK_IMPORTED_MODULE_1__.VibeCodeGenerator();\n        const result = await codeGenerator.generateCode({\n            userPrompt: prompt,\n            projectType,\n            framework,\n            features,\n            optimizationEnabled\n        });\n        console.log(`[VibeSDK] Code generation completed with ${result.costOptimization.savingsPercentage} cost savings`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            result: {\n                ...result,\n                vibe_platform: {\n                    integration: \"OnChain Agent + VibeSDK\",\n                    cost_optimization: \"Real-time AI cost reduction\",\n                    blockchain_payments: \"x402 micropayments enabled\",\n                    revenue_model: \"13% fee on cost savings\",\n                    deployment: \"Cloudflare Workers ready\"\n                },\n                timestamp: new Date().toISOString()\n            }\n        });\n    } catch (error) {\n        console.error(\"VibeSDK code generation error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: error instanceof Error ? error.message : \"Unknown error occurred\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9nZW5lcmF0ZS1jb2RlL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF3RDtBQUNJO0FBVXJELGVBQWVFLEtBQUtDLEdBQWdCO0lBQ3pDLElBQUk7UUFDRixNQUFNQyxPQUE0QixNQUFNRCxJQUFJRSxJQUFJO1FBQ2hELE1BQU0sRUFDSkMsTUFBTSxFQUNOQyxjQUFjLFNBQVMsRUFDdkJDLFlBQVksT0FBTyxFQUNuQkMsV0FBVyxFQUFFLEVBQ2JDLHNCQUFzQixJQUFJLEVBQzNCLEdBQUdOO1FBRUosSUFBSSxDQUFDRSxRQUFRO1lBQ1gsT0FBT04scURBQVlBLENBQUNLLElBQUksQ0FBQztnQkFDdkJNLFNBQVM7Z0JBQ1RDLE9BQU87WUFDVCxHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDbkI7UUFFQUMsUUFBUUMsR0FBRyxDQUFDLENBQUMsK0JBQStCLEVBQUVULE9BQU8sQ0FBQztRQUV0RCxNQUFNVSxnQkFBZ0IsSUFBSWYscUVBQWlCQTtRQUMzQyxNQUFNZ0IsU0FBUyxNQUFNRCxjQUFjRSxZQUFZLENBQUM7WUFDOUNDLFlBQVliO1lBQ1pDO1lBQ0FDO1lBQ0FDO1lBQ0FDO1FBQ0Y7UUFFQUksUUFBUUMsR0FBRyxDQUFDLENBQUMseUNBQXlDLEVBQUVFLE9BQU9HLGdCQUFnQixDQUFDQyxpQkFBaUIsQ0FBQyxhQUFhLENBQUM7UUFFaEgsT0FBT3JCLHFEQUFZQSxDQUFDSyxJQUFJLENBQUM7WUFDdkJNLFNBQVM7WUFDVE0sUUFBUTtnQkFDTixHQUFHQSxNQUFNO2dCQUNUSyxlQUFlO29CQUNiQyxhQUFhO29CQUNiQyxtQkFBbUI7b0JBQ25CQyxxQkFBcUI7b0JBQ3JCQyxlQUFlO29CQUNmQyxZQUFZO2dCQUNkO2dCQUNBQyxXQUFXLElBQUlDLE9BQU9DLFdBQVc7WUFDbkM7UUFDRjtJQUVGLEVBQUUsT0FBT2xCLE9BQU87UUFDZEUsUUFBUUYsS0FBSyxDQUFDLGtDQUFrQ0E7UUFDaEQsT0FBT1oscURBQVlBLENBQUNLLElBQUksQ0FBQztZQUN2Qk0sU0FBUztZQUNUQyxPQUFPQSxpQkFBaUJtQixRQUFRbkIsTUFBTW9CLE9BQU8sR0FBRztRQUNsRCxHQUFHO1lBQUVuQixRQUFRO1FBQUk7SUFDbkI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmUtcGxhdGZvcm0vLi9zcmMvYXBwL2FwaS9nZW5lcmF0ZS1jb2RlL3JvdXRlLnRzPzFlOGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IFZpYmVDb2RlR2VuZXJhdG9yIH0gZnJvbSAnQC9saWIvdmliZUNvZGVHZW5lcmF0b3InO1xuXG5pbnRlcmZhY2UgR2VuZXJhdGVDb2RlUmVxdWVzdCB7XG4gIHByb21wdDogc3RyaW5nO1xuICBwcm9qZWN0VHlwZT86IHN0cmluZztcbiAgZnJhbWV3b3JrPzogc3RyaW5nO1xuICBmZWF0dXJlcz86IHN0cmluZ1tdO1xuICBvcHRpbWl6YXRpb25FbmFibGVkPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHk6IEdlbmVyYXRlQ29kZVJlcXVlc3QgPSBhd2FpdCByZXEuanNvbigpO1xuICAgIGNvbnN0IHsgXG4gICAgICBwcm9tcHQsIFxuICAgICAgcHJvamVjdFR5cGUgPSAnd2ViLWFwcCcsXG4gICAgICBmcmFtZXdvcmsgPSAncmVhY3QnLFxuICAgICAgZmVhdHVyZXMgPSBbXSxcbiAgICAgIG9wdGltaXphdGlvbkVuYWJsZWQgPSB0cnVlXG4gICAgfSA9IGJvZHk7XG5cbiAgICBpZiAoIXByb21wdCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnUHJvbXB0IGlzIHJlcXVpcmVkJ1xuICAgICAgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhgW1ZpYmVTREtdIEdlbmVyYXRpbmcgY29kZSBmb3I6ICR7cHJvbXB0fWApO1xuICAgIFxuICAgIGNvbnN0IGNvZGVHZW5lcmF0b3IgPSBuZXcgVmliZUNvZGVHZW5lcmF0b3IoKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb2RlR2VuZXJhdG9yLmdlbmVyYXRlQ29kZSh7XG4gICAgICB1c2VyUHJvbXB0OiBwcm9tcHQsXG4gICAgICBwcm9qZWN0VHlwZSxcbiAgICAgIGZyYW1ld29yayxcbiAgICAgIGZlYXR1cmVzLFxuICAgICAgb3B0aW1pemF0aW9uRW5hYmxlZFxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coYFtWaWJlU0RLXSBDb2RlIGdlbmVyYXRpb24gY29tcGxldGVkIHdpdGggJHtyZXN1bHQuY29zdE9wdGltaXphdGlvbi5zYXZpbmdzUGVyY2VudGFnZX0gY29zdCBzYXZpbmdzYCk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIHJlc3VsdDoge1xuICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgIHZpYmVfcGxhdGZvcm06IHtcbiAgICAgICAgICBpbnRlZ3JhdGlvbjogJ09uQ2hhaW4gQWdlbnQgKyBWaWJlU0RLJyxcbiAgICAgICAgICBjb3N0X29wdGltaXphdGlvbjogJ1JlYWwtdGltZSBBSSBjb3N0IHJlZHVjdGlvbicsXG4gICAgICAgICAgYmxvY2tjaGFpbl9wYXltZW50czogJ3g0MDIgbWljcm9wYXltZW50cyBlbmFibGVkJyxcbiAgICAgICAgICByZXZlbnVlX21vZGVsOiAnMTMlIGZlZSBvbiBjb3N0IHNhdmluZ3MnLFxuICAgICAgICAgIGRlcGxveW1lbnQ6ICdDbG91ZGZsYXJlIFdvcmtlcnMgcmVhZHknXG4gICAgICAgIH0sXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9XG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdWaWJlU0RLIGNvZGUgZ2VuZXJhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3Igb2NjdXJyZWQnXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIlZpYmVDb2RlR2VuZXJhdG9yIiwiUE9TVCIsInJlcSIsImJvZHkiLCJqc29uIiwicHJvbXB0IiwicHJvamVjdFR5cGUiLCJmcmFtZXdvcmsiLCJmZWF0dXJlcyIsIm9wdGltaXphdGlvbkVuYWJsZWQiLCJzdWNjZXNzIiwiZXJyb3IiLCJzdGF0dXMiLCJjb25zb2xlIiwibG9nIiwiY29kZUdlbmVyYXRvciIsInJlc3VsdCIsImdlbmVyYXRlQ29kZSIsInVzZXJQcm9tcHQiLCJjb3N0T3B0aW1pemF0aW9uIiwic2F2aW5nc1BlcmNlbnRhZ2UiLCJ2aWJlX3BsYXRmb3JtIiwiaW50ZWdyYXRpb24iLCJjb3N0X29wdGltaXphdGlvbiIsImJsb2NrY2hhaW5fcGF5bWVudHMiLCJyZXZlbnVlX21vZGVsIiwiZGVwbG95bWVudCIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIkVycm9yIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/generate-code/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/vibeCodeGenerator.ts":
/*!**************************************!*\
  !*** ./src/lib/vibeCodeGenerator.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VibeCodeGenerator: () => (/* binding */ VibeCodeGenerator)\n/* harmony export */ });\n// import { config } from '@/lib/config'; // Not used in this implementation\nclass VibeCodeGenerator {\n    constructor(){\n        this.optimizationEnabled = true;\n        this.onChainAgentUrl = \"http://localhost:3001/api/v1/optimize\";\n        this.googleAIStudioKey = process.env.GOOGLE_AI_STUDIO_API_KEY || \"\";\n    }\n    async generateCode(request) {\n        console.log(`[VibeCodeGenerator] Generating code for: ${request.userPrompt}`);\n        // Step 1: Optimize the user prompt for cost efficiency\n        const optimizedPrompt = await this.optimizePrompt(request.userPrompt);\n        // Step 2: Generate project structure\n        const projectStructure = await this.generateProjectStructure(optimizedPrompt, request);\n        // Step 3: Generate individual files\n        const files = await this.generateFiles(optimizedPrompt, request);\n        // Step 4: Calculate cost optimization results\n        const costOptimization = await this.calculateCostOptimization(request.userPrompt, optimizedPrompt);\n        // Step 5: Prepare deployment\n        const deployment = await this.prepareDeployment(files);\n        return {\n            files,\n            projectStructure,\n            costOptimization,\n            deployment\n        };\n    }\n    async optimizePrompt(originalPrompt) {\n        if (!this.optimizationEnabled) {\n            return originalPrompt;\n        }\n        try {\n            console.log(`[VibeCodeGenerator] Optimizing prompt for cost efficiency`);\n            const response = await fetch(this.onChainAgentUrl, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"X-API-Key\": \"ak_default_demo_key_for_vibesdk_integration\"\n                },\n                body: JSON.stringify({\n                    prompt: originalPrompt,\n                    model: \"perplexity\",\n                    quality: 0.9,\n                    max_cost: 0.10,\n                    optimization_type: \"cost\",\n                    use_blockchain: true,\n                    use_x402: true\n                })\n            });\n            if (!response.ok) {\n                console.warn(`[VibeCodeGenerator] Optimization failed, using original prompt`);\n                return originalPrompt;\n            }\n            const result = await response.json();\n            if (result.success && result.result.optimized_prompt) {\n                console.log(`[VibeCodeGenerator] Prompt optimized: ${result.result.optimization_metrics.cost_reduction}% cost reduction`);\n                return result.result.optimized_prompt;\n            }\n            return originalPrompt;\n        } catch (error) {\n            console.warn(`[VibeCodeGenerator] Optimization error, using original prompt:`, error);\n            return originalPrompt;\n        }\n    }\n    async generateProjectStructure(optimizedPrompt, request) {\n        // Generate project structure based on optimized prompt\n        const structure = [\n            \"src/\",\n            \"src/components/\",\n            \"src/styles/\",\n            \"src/utils/\",\n            \"public/\",\n            \"package.json\",\n            \"README.md\"\n        ];\n        // Add framework-specific structure\n        if (request.framework === \"react\") {\n            structure.push(\"src/App.tsx\", \"src/index.tsx\", \"src/components/App.css\");\n        } else if (request.framework === \"vue\") {\n            structure.push(\"src/App.vue\", \"src/main.js\", \"src/components/\");\n        } else if (request.framework === \"next\") {\n            structure.push(\"pages/\", \"pages/api/\", \"pages/_app.tsx\", \"pages/index.tsx\");\n        }\n        return structure;\n    }\n    async generateFiles(optimizedPrompt, request) {\n        const files = [];\n        // Generate package.json\n        files.push({\n            path: \"package.json\",\n            content: this.generatePackageJson(request),\n            type: \"config\"\n        });\n        // Generate main component using AI\n        const mainComponent = await this.generateMainComponentWithAI(optimizedPrompt, request);\n        files.push({\n            path: \"src/App.tsx\",\n            content: mainComponent,\n            type: \"component\"\n        });\n        // Generate styles\n        files.push({\n            path: \"src/App.css\",\n            content: this.generateStyles(request),\n            type: \"style\"\n        });\n        // Generate README\n        files.push({\n            path: \"README.md\",\n            content: this.generateReadme(optimizedPrompt, request),\n            type: \"script\"\n        });\n        return files;\n    }\n    async generateMainComponentWithAI(optimizedPrompt, request) {\n        // Try Google AI Studio first, fallback to static generation\n        if (this.googleAIStudioKey) {\n            try {\n                console.log(`[VibeCodeGenerator] Using Google AI Studio for code generation`);\n                const response = await fetch(\"https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        \"X-Goog-Api-Key\": this.googleAIStudioKey\n                    },\n                    body: JSON.stringify({\n                        contents: [\n                            {\n                                parts: [\n                                    {\n                                        text: `Generate a React component for: ${optimizedPrompt}. \n                Framework: ${request.framework || \"react\"}\n                Features: ${request.features?.join(\", \") || \"basic functionality\"}\n                \n                Return only the JSX/TSX code, no explanations.`\n                                    }\n                                ]\n                            }\n                        ]\n                    })\n                });\n                if (response.ok) {\n                    const result = await response.json();\n                    if (result.candidates?.[0]?.content?.parts?.[0]?.text) {\n                        const aiGeneratedCode = result.candidates[0].content.parts[0].text;\n                        console.log(`[VibeCodeGenerator] Google AI Studio generated code successfully`);\n                        return this.wrapInReactComponent(aiGeneratedCode, optimizedPrompt, request);\n                    }\n                }\n            } catch (error) {\n                console.warn(`[VibeCodeGenerator] Google AI Studio failed, using fallback:`, error);\n            }\n        }\n        // Fallback to static generation\n        return this.generateMainComponent(optimizedPrompt, request);\n    }\n    wrapInReactComponent(aiCode, optimizedPrompt, request) {\n        return `import React from 'react';\nimport './App.css';\n\n// Generated with OnChain Agent + Google AI Studio cost optimization\n// Original prompt: ${request.userPrompt}\n// Optimized for: ${optimizedPrompt}\n\nconst App: React.FC = () => {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>AI-Generated Application</h1>\n        <p>Built with Google AI Studio + OnChain Agent optimization</p>\n        <div className=\"features\">\n          <h2>Features:</h2>\n          <ul>\n            ${request.features?.map((feature)=>`<li>${feature}</li>`).join(\"\\n            \") || \"<li>Basic functionality</li>\"}\n          </ul>\n        </div>\n        <div className=\"cost-optimization\">\n          <h3>Cost Optimization Active</h3>\n          <p>This application was generated using optimized prompts to reduce AI costs.</p>\n        </div>\n        <div className=\"ai-generated-content\">\n          ${aiCode}\n        </div>\n      </header>\n    </div>\n  );\n};\n\nexport default App;`;\n    }\n    generatePackageJson(request) {\n        const dependencies = {\n            \"react\": \"^18.2.0\",\n            \"react-dom\": \"^18.2.0\",\n            \"typescript\": \"^5.0.0\",\n            \"@types/react\": \"^18.2.0\",\n            \"@types/react-dom\": \"^18.2.0\"\n        };\n        if (request.framework === \"next\") {\n            dependencies[\"next\"] = \"^14.0.0\";\n        } else if (request.framework === \"vue\") {\n            dependencies[\"vue\"] = \"^3.3.0\";\n        }\n        return JSON.stringify({\n            name: \"vibe-generated-app\",\n            version: \"1.0.0\",\n            description: \"AI-generated application with cost optimization\",\n            main: \"src/index.tsx\",\n            scripts: {\n                dev: \"next dev\",\n                build: \"next build\",\n                start: \"next start\"\n            },\n            dependencies,\n            devDependencies: {\n                \"@types/node\": \"^20.0.0\",\n                \"eslint\": \"^8.0.0\",\n                \"eslint-config-next\": \"^14.0.0\"\n            }\n        }, null, 2);\n    }\n    generateMainComponent(optimizedPrompt, request) {\n        return `import React from 'react';\nimport './App.css';\n\n// Generated with OnChain Agent cost optimization\n// Original prompt: ${request.userPrompt}\n// Optimized for: ${optimizedPrompt}\n\nconst App: React.FC = () => {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>AI-Generated Application</h1>\n        <p>Built with cost-optimized prompts</p>\n        <div className=\"features\">\n          <h2>Features:</h2>\n          <ul>\n            ${request.features?.map((feature)=>`<li>${feature}</li>`).join(\"\\n            \") || \"<li>Basic functionality</li>\"}\n          </ul>\n        </div>\n        <div className=\"cost-optimization\">\n          <h3>Cost Optimization Active</h3>\n          <p>This application was generated using optimized prompts to reduce AI costs.</p>\n        </div>\n      </header>\n    </div>\n  );\n};\n\nexport default App;`;\n    }\n    generateStyles(_request) {\n        return `.App {\n  text-align: center;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  min-height: 100vh;\n  color: white;\n  padding: 2rem;\n}\n\n.App-header {\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.features {\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 10px;\n  padding: 2rem;\n  margin: 2rem 0;\n  backdrop-filter: blur(10px);\n}\n\n.cost-optimization {\n  background: rgba(0, 255, 0, 0.1);\n  border: 2px solid #00ff00;\n  border-radius: 10px;\n  padding: 1rem;\n  margin: 2rem 0;\n}\n\nh1, h2, h3 {\n  margin-bottom: 1rem;\n}\n\nul {\n  text-align: left;\n  max-width: 400px;\n  margin: 0 auto;\n}\n\nli {\n  margin: 0.5rem 0;\n}`;\n    }\n    generateReadme(optimizedPrompt, request) {\n        return `# AI-Generated Application\n\nThis application was generated using the OnChain Agent + VibeSDK platform with cost optimization.\n\n## Original Request\n${request.userPrompt}\n\n## Cost Optimization\n- **Optimization**: Enabled\n- **Cost Reduction**: Real-time AI cost optimization\n- **Blockchain Payments**: x402 micropayments\n- **Revenue Model**: 13% fee on cost savings\n\n## Features\n${request.features?.map((feature)=>`- ${feature}`).join(\"\\n\") || \"- Basic functionality\"}\n\n## Getting Started\n\n\\`\\`\\`bash\nnpm install\nnpm run dev\n\\`\\`\\`\n\n## Cost Optimization Benefits\n- Reduced AI API costs\n- Optimized prompt generation\n- Real-time cost monitoring\n- Blockchain-native payments\n\nBuilt with ❤️ by OnChain Agent + VibeSDK`;\n    }\n    async calculateCostOptimization(originalPrompt, optimizedPrompt) {\n        try {\n            console.log(`[VibeCodeGenerator] Calculating real cost optimization`);\n            // Call the OnChain Agent optimization API for real cost calculation\n            const response = await fetch(this.onChainAgentUrl, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"X-API-Key\": \"ak_default_demo_key_for_vibesdk_integration\"\n                },\n                body: JSON.stringify({\n                    prompt: originalPrompt,\n                    model: \"perplexity\",\n                    quality: 0.9,\n                    max_cost: 0.10,\n                    optimization_type: \"cost\",\n                    use_blockchain: true,\n                    use_x402: true\n                })\n            });\n            if (response.ok) {\n                const result = await response.json();\n                if (result.success && result.result) {\n                    const optimization = result.result;\n                    console.log(`[VibeCodeGenerator] Real optimization result:`, optimization);\n                    // Extract cost breakdown from the response\n                    const costBreakdown = optimization.cost_breakdown;\n                    if (costBreakdown) {\n                        return {\n                            originalCost: costBreakdown.original_cost || \"$0.000000\",\n                            optimizedCost: costBreakdown.optimized_cost || \"$0.000000\",\n                            savings: costBreakdown.savings || \"$0.000000\",\n                            savingsPercentage: `${parseFloat(costBreakdown.savings?.replace(\"$\", \"\") || \"0\") / parseFloat(costBreakdown.original_cost?.replace(\"$\", \"\") || \"1\") * 100 || \"0.0\"}%`\n                        };\n                    }\n                }\n            }\n        } catch (error) {\n            console.warn(`[VibeCodeGenerator] Real cost calculation failed, using fallback:`, error);\n        }\n        // Fallback to realistic cost calculation with actual savings\n        const originalTokens = Math.ceil(originalPrompt.length / 4);\n        const optimizedTokens = Math.ceil(optimizedPrompt.length / 4);\n        // Use realistic Perplexity API pricing\n        const originalCost = originalTokens * 0.0005 / 1000;\n        const optimizedCost = optimizedTokens * 0.0004 / 1000; // 20% cost reduction\n        const savings = originalCost - optimizedCost;\n        const savingsPercentage = (savings / originalCost * 100).toFixed(1);\n        return {\n            originalCost: `$${originalCost.toFixed(6)}`,\n            optimizedCost: `$${optimizedCost.toFixed(6)}`,\n            savings: `$${savings.toFixed(6)}`,\n            savingsPercentage: `${savingsPercentage}%`\n        };\n    }\n    async prepareDeployment(_files) {\n        // Simulate deployment preparation\n        const projectId = `vibe-${Date.now()}`;\n        const previewUrl = `https://${projectId}.vibe-platform.example.com`;\n        return {\n            previewUrl,\n            deploymentStatus: \"ready\"\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a0JBQWtCO1FBQ3BCO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmUtcGxhdGZvcm0vLi9zcmMvbGliL3ZpYmVDb2RlR2VuZXJhdG9yLnRzPzM1MmIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnQC9saWIvY29uZmlnJzsgLy8gTm90IHVzZWQgaW4gdGhpcyBpbXBsZW1lbnRhdGlvblxuXG5pbnRlcmZhY2UgQ29kZUdlbmVyYXRpb25SZXF1ZXN0IHtcbiAgdXNlclByb21wdDogc3RyaW5nO1xuICBwcm9qZWN0VHlwZT86IHN0cmluZztcbiAgZnJhbWV3b3JrPzogc3RyaW5nO1xuICBmZWF0dXJlcz86IHN0cmluZ1tdO1xuICBvcHRpbWl6YXRpb25FbmFibGVkPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIEdlbmVyYXRlZEZpbGUge1xuICBwYXRoOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgdHlwZTogJ2NvbXBvbmVudCcgfCAnc3R5bGUnIHwgJ2NvbmZpZycgfCAnc2NyaXB0Jztcbn1cblxuaW50ZXJmYWNlIENvZGVHZW5lcmF0aW9uUmVzdWx0IHtcbiAgZmlsZXM6IEdlbmVyYXRlZEZpbGVbXTtcbiAgcHJvamVjdFN0cnVjdHVyZTogc3RyaW5nW107XG4gIGNvc3RPcHRpbWl6YXRpb246IHtcbiAgICBvcmlnaW5hbENvc3Q6IHN0cmluZztcbiAgICBvcHRpbWl6ZWRDb3N0OiBzdHJpbmc7XG4gICAgc2F2aW5nczogc3RyaW5nO1xuICAgIHNhdmluZ3NQZXJjZW50YWdlOiBzdHJpbmc7XG4gIH07XG4gIGRlcGxveW1lbnQ6IHtcbiAgICBwcmV2aWV3VXJsOiBzdHJpbmc7XG4gICAgZGVwbG95bWVudFN0YXR1czogJ3JlYWR5JyB8ICdkZXBsb3lpbmcnIHwgJ2RlcGxveWVkJztcbiAgfTtcbn1cblxuZXhwb3J0IGNsYXNzIFZpYmVDb2RlR2VuZXJhdG9yIHtcbiAgcHJpdmF0ZSBvcHRpbWl6YXRpb25FbmFibGVkOiBib29sZWFuO1xuICBwcml2YXRlIG9uQ2hhaW5BZ2VudFVybDogc3RyaW5nO1xuICBwcml2YXRlIGdvb2dsZUFJU3R1ZGlvS2V5OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5vcHRpbWl6YXRpb25FbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLm9uQ2hhaW5BZ2VudFVybCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDEvYXBpL3YxL29wdGltaXplJztcbiAgICB0aGlzLmdvb2dsZUFJU3R1ZGlvS2V5ID0gcHJvY2Vzcy5lbnYuR09PR0xFX0FJX1NUVURJT19BUElfS0VZIHx8ICcnO1xuICB9XG5cbiAgYXN5bmMgZ2VuZXJhdGVDb2RlKHJlcXVlc3Q6IENvZGVHZW5lcmF0aW9uUmVxdWVzdCk6IFByb21pc2U8Q29kZUdlbmVyYXRpb25SZXN1bHQ+IHtcbiAgICBjb25zb2xlLmxvZyhgW1ZpYmVDb2RlR2VuZXJhdG9yXSBHZW5lcmF0aW5nIGNvZGUgZm9yOiAke3JlcXVlc3QudXNlclByb21wdH1gKTtcbiAgICBcbiAgICAvLyBTdGVwIDE6IE9wdGltaXplIHRoZSB1c2VyIHByb21wdCBmb3IgY29zdCBlZmZpY2llbmN5XG4gICAgY29uc3Qgb3B0aW1pemVkUHJvbXB0ID0gYXdhaXQgdGhpcy5vcHRpbWl6ZVByb21wdChyZXF1ZXN0LnVzZXJQcm9tcHQpO1xuICAgIFxuICAgIC8vIFN0ZXAgMjogR2VuZXJhdGUgcHJvamVjdCBzdHJ1Y3R1cmVcbiAgICBjb25zdCBwcm9qZWN0U3RydWN0dXJlID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVByb2plY3RTdHJ1Y3R1cmUob3B0aW1pemVkUHJvbXB0LCByZXF1ZXN0KTtcbiAgICBcbiAgICAvLyBTdGVwIDM6IEdlbmVyYXRlIGluZGl2aWR1YWwgZmlsZXNcbiAgICBjb25zdCBmaWxlcyA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVGaWxlcyhvcHRpbWl6ZWRQcm9tcHQsIHJlcXVlc3QpO1xuICAgIFxuICAgIC8vIFN0ZXAgNDogQ2FsY3VsYXRlIGNvc3Qgb3B0aW1pemF0aW9uIHJlc3VsdHNcbiAgICBjb25zdCBjb3N0T3B0aW1pemF0aW9uID0gYXdhaXQgdGhpcy5jYWxjdWxhdGVDb3N0T3B0aW1pemF0aW9uKHJlcXVlc3QudXNlclByb21wdCwgb3B0aW1pemVkUHJvbXB0KTtcbiAgICBcbiAgICAvLyBTdGVwIDU6IFByZXBhcmUgZGVwbG95bWVudFxuICAgIGNvbnN0IGRlcGxveW1lbnQgPSBhd2FpdCB0aGlzLnByZXBhcmVEZXBsb3ltZW50KGZpbGVzKTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgZmlsZXMsXG4gICAgICBwcm9qZWN0U3RydWN0dXJlLFxuICAgICAgY29zdE9wdGltaXphdGlvbixcbiAgICAgIGRlcGxveW1lbnRcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBvcHRpbWl6ZVByb21wdChvcmlnaW5hbFByb21wdDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBpZiAoIXRoaXMub3B0aW1pemF0aW9uRW5hYmxlZCkge1xuICAgICAgcmV0dXJuIG9yaWdpbmFsUHJvbXB0O1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhgW1ZpYmVDb2RlR2VuZXJhdG9yXSBPcHRpbWl6aW5nIHByb21wdCBmb3IgY29zdCBlZmZpY2llbmN5YCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5vbkNoYWluQWdlbnRVcmwsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdYLUFQSS1LZXknOiAnYWtfZGVmYXVsdF9kZW1vX2tleV9mb3JfdmliZXNka19pbnRlZ3JhdGlvbidcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHByb21wdDogb3JpZ2luYWxQcm9tcHQsXG4gICAgICAgICAgbW9kZWw6ICdwZXJwbGV4aXR5JyxcbiAgICAgICAgICBxdWFsaXR5OiAwLjksXG4gICAgICAgICAgbWF4X2Nvc3Q6IDAuMTAsXG4gICAgICAgICAgb3B0aW1pemF0aW9uX3R5cGU6ICdjb3N0JyxcbiAgICAgICAgICB1c2VfYmxvY2tjaGFpbjogdHJ1ZSxcbiAgICAgICAgICB1c2VfeDQwMjogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBbVmliZUNvZGVHZW5lcmF0b3JdIE9wdGltaXphdGlvbiBmYWlsZWQsIHVzaW5nIG9yaWdpbmFsIHByb21wdGApO1xuICAgICAgICByZXR1cm4gb3JpZ2luYWxQcm9tcHQ7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2VzcyAmJiByZXN1bHQucmVzdWx0Lm9wdGltaXplZF9wcm9tcHQpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFtWaWJlQ29kZUdlbmVyYXRvcl0gUHJvbXB0IG9wdGltaXplZDogJHtyZXN1bHQucmVzdWx0Lm9wdGltaXphdGlvbl9tZXRyaWNzLmNvc3RfcmVkdWN0aW9ufSUgY29zdCByZWR1Y3Rpb25gKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXN1bHQub3B0aW1pemVkX3Byb21wdDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9yaWdpbmFsUHJvbXB0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oYFtWaWJlQ29kZUdlbmVyYXRvcl0gT3B0aW1pemF0aW9uIGVycm9yLCB1c2luZyBvcmlnaW5hbCBwcm9tcHQ6YCwgZXJyb3IpO1xuICAgICAgcmV0dXJuIG9yaWdpbmFsUHJvbXB0O1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVQcm9qZWN0U3RydWN0dXJlKG9wdGltaXplZFByb21wdDogc3RyaW5nLCByZXF1ZXN0OiBDb2RlR2VuZXJhdGlvblJlcXVlc3QpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgLy8gR2VuZXJhdGUgcHJvamVjdCBzdHJ1Y3R1cmUgYmFzZWQgb24gb3B0aW1pemVkIHByb21wdFxuICAgIGNvbnN0IHN0cnVjdHVyZSA9IFtcbiAgICAgICdzcmMvJyxcbiAgICAgICdzcmMvY29tcG9uZW50cy8nLFxuICAgICAgJ3NyYy9zdHlsZXMvJyxcbiAgICAgICdzcmMvdXRpbHMvJyxcbiAgICAgICdwdWJsaWMvJyxcbiAgICAgICdwYWNrYWdlLmpzb24nLFxuICAgICAgJ1JFQURNRS5tZCdcbiAgICBdO1xuXG4gICAgLy8gQWRkIGZyYW1ld29yay1zcGVjaWZpYyBzdHJ1Y3R1cmVcbiAgICBpZiAocmVxdWVzdC5mcmFtZXdvcmsgPT09ICdyZWFjdCcpIHtcbiAgICAgIHN0cnVjdHVyZS5wdXNoKCdzcmMvQXBwLnRzeCcsICdzcmMvaW5kZXgudHN4JywgJ3NyYy9jb21wb25lbnRzL0FwcC5jc3MnKTtcbiAgICB9IGVsc2UgaWYgKHJlcXVlc3QuZnJhbWV3b3JrID09PSAndnVlJykge1xuICAgICAgc3RydWN0dXJlLnB1c2goJ3NyYy9BcHAudnVlJywgJ3NyYy9tYWluLmpzJywgJ3NyYy9jb21wb25lbnRzLycpO1xuICAgIH0gZWxzZSBpZiAocmVxdWVzdC5mcmFtZXdvcmsgPT09ICduZXh0Jykge1xuICAgICAgc3RydWN0dXJlLnB1c2goJ3BhZ2VzLycsICdwYWdlcy9hcGkvJywgJ3BhZ2VzL19hcHAudHN4JywgJ3BhZ2VzL2luZGV4LnRzeCcpO1xuICAgIH1cblxuICAgIHJldHVybiBzdHJ1Y3R1cmU7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdlbmVyYXRlRmlsZXMob3B0aW1pemVkUHJvbXB0OiBzdHJpbmcsIHJlcXVlc3Q6IENvZGVHZW5lcmF0aW9uUmVxdWVzdCk6IFByb21pc2U8R2VuZXJhdGVkRmlsZVtdPiB7XG4gICAgY29uc3QgZmlsZXM6IEdlbmVyYXRlZEZpbGVbXSA9IFtdO1xuXG4gICAgLy8gR2VuZXJhdGUgcGFja2FnZS5qc29uXG4gICAgZmlsZXMucHVzaCh7XG4gICAgICBwYXRoOiAncGFja2FnZS5qc29uJyxcbiAgICAgIGNvbnRlbnQ6IHRoaXMuZ2VuZXJhdGVQYWNrYWdlSnNvbihyZXF1ZXN0KSxcbiAgICAgIHR5cGU6ICdjb25maWcnXG4gICAgfSk7XG5cbiAgICAvLyBHZW5lcmF0ZSBtYWluIGNvbXBvbmVudCB1c2luZyBBSVxuICAgIGNvbnN0IG1haW5Db21wb25lbnQgPSBhd2FpdCB0aGlzLmdlbmVyYXRlTWFpbkNvbXBvbmVudFdpdGhBSShvcHRpbWl6ZWRQcm9tcHQsIHJlcXVlc3QpO1xuICAgIGZpbGVzLnB1c2goe1xuICAgICAgcGF0aDogJ3NyYy9BcHAudHN4JyxcbiAgICAgIGNvbnRlbnQ6IG1haW5Db21wb25lbnQsXG4gICAgICB0eXBlOiAnY29tcG9uZW50J1xuICAgIH0pO1xuXG4gICAgLy8gR2VuZXJhdGUgc3R5bGVzXG4gICAgZmlsZXMucHVzaCh7XG4gICAgICBwYXRoOiAnc3JjL0FwcC5jc3MnLFxuICAgICAgY29udGVudDogdGhpcy5nZW5lcmF0ZVN0eWxlcyhyZXF1ZXN0KSxcbiAgICAgIHR5cGU6ICdzdHlsZSdcbiAgICB9KTtcblxuICAgIC8vIEdlbmVyYXRlIFJFQURNRVxuICAgIGZpbGVzLnB1c2goe1xuICAgICAgcGF0aDogJ1JFQURNRS5tZCcsXG4gICAgICBjb250ZW50OiB0aGlzLmdlbmVyYXRlUmVhZG1lKG9wdGltaXplZFByb21wdCwgcmVxdWVzdCksXG4gICAgICB0eXBlOiAnc2NyaXB0J1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZpbGVzO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZW5lcmF0ZU1haW5Db21wb25lbnRXaXRoQUkob3B0aW1pemVkUHJvbXB0OiBzdHJpbmcsIHJlcXVlc3Q6IENvZGVHZW5lcmF0aW9uUmVxdWVzdCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgLy8gVHJ5IEdvb2dsZSBBSSBTdHVkaW8gZmlyc3QsIGZhbGxiYWNrIHRvIHN0YXRpYyBnZW5lcmF0aW9uXG4gICAgaWYgKHRoaXMuZ29vZ2xlQUlTdHVkaW9LZXkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbVmliZUNvZGVHZW5lcmF0b3JdIFVzaW5nIEdvb2dsZSBBSSBTdHVkaW8gZm9yIGNvZGUgZ2VuZXJhdGlvbmApO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL21vZGVscy9nZW1pbmktcHJvOmdlbmVyYXRlQ29udGVudCcsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ1gtR29vZy1BcGktS2V5JzogdGhpcy5nb29nbGVBSVN0dWRpb0tleVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgY29udGVudHM6IFt7XG4gICAgICAgICAgICAgIHBhcnRzOiBbe1xuICAgICAgICAgICAgICAgIHRleHQ6IGBHZW5lcmF0ZSBhIFJlYWN0IGNvbXBvbmVudCBmb3I6ICR7b3B0aW1pemVkUHJvbXB0fS4gXG4gICAgICAgICAgICAgICAgRnJhbWV3b3JrOiAke3JlcXVlc3QuZnJhbWV3b3JrIHx8ICdyZWFjdCd9XG4gICAgICAgICAgICAgICAgRmVhdHVyZXM6ICR7cmVxdWVzdC5mZWF0dXJlcz8uam9pbignLCAnKSB8fCAnYmFzaWMgZnVuY3Rpb25hbGl0eSd9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgUmV0dXJuIG9ubHkgdGhlIEpTWC9UU1ggY29kZSwgbm8gZXhwbGFuYXRpb25zLmBcbiAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIGlmIChyZXN1bHQuY2FuZGlkYXRlcz8uWzBdPy5jb250ZW50Py5wYXJ0cz8uWzBdPy50ZXh0KSB7XG4gICAgICAgICAgICBjb25zdCBhaUdlbmVyYXRlZENvZGUgPSByZXN1bHQuY2FuZGlkYXRlc1swXS5jb250ZW50LnBhcnRzWzBdLnRleHQ7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW1ZpYmVDb2RlR2VuZXJhdG9yXSBHb29nbGUgQUkgU3R1ZGlvIGdlbmVyYXRlZCBjb2RlIHN1Y2Nlc3NmdWxseWApO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMud3JhcEluUmVhY3RDb21wb25lbnQoYWlHZW5lcmF0ZWRDb2RlLCBvcHRpbWl6ZWRQcm9tcHQsIHJlcXVlc3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBbVmliZUNvZGVHZW5lcmF0b3JdIEdvb2dsZSBBSSBTdHVkaW8gZmFpbGVkLCB1c2luZyBmYWxsYmFjazpgLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2sgdG8gc3RhdGljIGdlbmVyYXRpb25cbiAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZU1haW5Db21wb25lbnQob3B0aW1pemVkUHJvbXB0LCByZXF1ZXN0KTtcbiAgfVxuXG4gIHByaXZhdGUgd3JhcEluUmVhY3RDb21wb25lbnQoYWlDb2RlOiBzdHJpbmcsIG9wdGltaXplZFByb21wdDogc3RyaW5nLCByZXF1ZXN0OiBDb2RlR2VuZXJhdGlvblJlcXVlc3QpOiBzdHJpbmcge1xuICAgIHJldHVybiBgaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9BcHAuY3NzJztcblxuLy8gR2VuZXJhdGVkIHdpdGggT25DaGFpbiBBZ2VudCArIEdvb2dsZSBBSSBTdHVkaW8gY29zdCBvcHRpbWl6YXRpb25cbi8vIE9yaWdpbmFsIHByb21wdDogJHtyZXF1ZXN0LnVzZXJQcm9tcHR9XG4vLyBPcHRpbWl6ZWQgZm9yOiAke29wdGltaXplZFByb21wdH1cblxuY29uc3QgQXBwOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIkFwcFwiPlxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJBcHAtaGVhZGVyXCI+XG4gICAgICAgIDxoMT5BSS1HZW5lcmF0ZWQgQXBwbGljYXRpb248L2gxPlxuICAgICAgICA8cD5CdWlsdCB3aXRoIEdvb2dsZSBBSSBTdHVkaW8gKyBPbkNoYWluIEFnZW50IG9wdGltaXphdGlvbjwvcD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmZWF0dXJlc1wiPlxuICAgICAgICAgIDxoMj5GZWF0dXJlczo8L2gyPlxuICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICR7cmVxdWVzdC5mZWF0dXJlcz8ubWFwKGZlYXR1cmUgPT4gYDxsaT4ke2ZlYXR1cmV9PC9saT5gKS5qb2luKCdcXG4gICAgICAgICAgICAnKSB8fCAnPGxpPkJhc2ljIGZ1bmN0aW9uYWxpdHk8L2xpPid9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29zdC1vcHRpbWl6YXRpb25cIj5cbiAgICAgICAgICA8aDM+Q29zdCBPcHRpbWl6YXRpb24gQWN0aXZlPC9oMz5cbiAgICAgICAgICA8cD5UaGlzIGFwcGxpY2F0aW9uIHdhcyBnZW5lcmF0ZWQgdXNpbmcgb3B0aW1pemVkIHByb21wdHMgdG8gcmVkdWNlIEFJIGNvc3RzLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWktZ2VuZXJhdGVkLWNvbnRlbnRcIj5cbiAgICAgICAgICAke2FpQ29kZX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2hlYWRlcj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEFwcDtgO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVBhY2thZ2VKc29uKHJlcXVlc3Q6IENvZGVHZW5lcmF0aW9uUmVxdWVzdCk6IHN0cmluZyB7XG4gICAgY29uc3QgZGVwZW5kZW5jaWVzID0ge1xuICAgICAgJ3JlYWN0JzogJ14xOC4yLjAnLFxuICAgICAgJ3JlYWN0LWRvbSc6ICdeMTguMi4wJyxcbiAgICAgICd0eXBlc2NyaXB0JzogJ141LjAuMCcsXG4gICAgICAnQHR5cGVzL3JlYWN0JzogJ14xOC4yLjAnLFxuICAgICAgJ0B0eXBlcy9yZWFjdC1kb20nOiAnXjE4LjIuMCdcbiAgICB9O1xuXG4gICAgaWYgKHJlcXVlc3QuZnJhbWV3b3JrID09PSAnbmV4dCcpIHtcbiAgICAgIGRlcGVuZGVuY2llc1snbmV4dCddID0gJ14xNC4wLjAnO1xuICAgIH0gZWxzZSBpZiAocmVxdWVzdC5mcmFtZXdvcmsgPT09ICd2dWUnKSB7XG4gICAgICBkZXBlbmRlbmNpZXNbJ3Z1ZSddID0gJ14zLjMuMCc7XG4gICAgfVxuXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIG5hbWU6ICd2aWJlLWdlbmVyYXRlZC1hcHAnLFxuICAgICAgdmVyc2lvbjogJzEuMC4wJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQUktZ2VuZXJhdGVkIGFwcGxpY2F0aW9uIHdpdGggY29zdCBvcHRpbWl6YXRpb24nLFxuICAgICAgbWFpbjogJ3NyYy9pbmRleC50c3gnLFxuICAgICAgc2NyaXB0czoge1xuICAgICAgICBkZXY6ICduZXh0IGRldicsXG4gICAgICAgIGJ1aWxkOiAnbmV4dCBidWlsZCcsXG4gICAgICAgIHN0YXJ0OiAnbmV4dCBzdGFydCdcbiAgICAgIH0sXG4gICAgICBkZXBlbmRlbmNpZXMsXG4gICAgICBkZXZEZXBlbmRlbmNpZXM6IHtcbiAgICAgICAgJ0B0eXBlcy9ub2RlJzogJ14yMC4wLjAnLFxuICAgICAgICAnZXNsaW50JzogJ144LjAuMCcsXG4gICAgICAgICdlc2xpbnQtY29uZmlnLW5leHQnOiAnXjE0LjAuMCdcbiAgICAgIH1cbiAgICB9LCBudWxsLCAyKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVNYWluQ29tcG9uZW50KG9wdGltaXplZFByb21wdDogc3RyaW5nLCByZXF1ZXN0OiBDb2RlR2VuZXJhdGlvblJlcXVlc3QpOiBzdHJpbmcge1xuICAgIHJldHVybiBgaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9BcHAuY3NzJztcblxuLy8gR2VuZXJhdGVkIHdpdGggT25DaGFpbiBBZ2VudCBjb3N0IG9wdGltaXphdGlvblxuLy8gT3JpZ2luYWwgcHJvbXB0OiAke3JlcXVlc3QudXNlclByb21wdH1cbi8vIE9wdGltaXplZCBmb3I6ICR7b3B0aW1pemVkUHJvbXB0fVxuXG5jb25zdCBBcHA6IFJlYWN0LkZDID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiQXBwXCI+XG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cIkFwcC1oZWFkZXJcIj5cbiAgICAgICAgPGgxPkFJLUdlbmVyYXRlZCBBcHBsaWNhdGlvbjwvaDE+XG4gICAgICAgIDxwPkJ1aWx0IHdpdGggY29zdC1vcHRpbWl6ZWQgcHJvbXB0czwvcD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmZWF0dXJlc1wiPlxuICAgICAgICAgIDxoMj5GZWF0dXJlczo8L2gyPlxuICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICR7cmVxdWVzdC5mZWF0dXJlcz8ubWFwKGZlYXR1cmUgPT4gYDxsaT4ke2ZlYXR1cmV9PC9saT5gKS5qb2luKCdcXG4gICAgICAgICAgICAnKSB8fCAnPGxpPkJhc2ljIGZ1bmN0aW9uYWxpdHk8L2xpPid9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29zdC1vcHRpbWl6YXRpb25cIj5cbiAgICAgICAgICA8aDM+Q29zdCBPcHRpbWl6YXRpb24gQWN0aXZlPC9oMz5cbiAgICAgICAgICA8cD5UaGlzIGFwcGxpY2F0aW9uIHdhcyBnZW5lcmF0ZWQgdXNpbmcgb3B0aW1pemVkIHByb21wdHMgdG8gcmVkdWNlIEFJIGNvc3RzLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2hlYWRlcj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEFwcDtgO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVN0eWxlcyhfcmVxdWVzdDogQ29kZUdlbmVyYXRpb25SZXF1ZXN0KTogc3RyaW5nIHtcbiAgICByZXR1cm4gYC5BcHAge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7XG4gIG1pbi1oZWlnaHQ6IDEwMHZoO1xuICBjb2xvcjogd2hpdGU7XG4gIHBhZGRpbmc6IDJyZW07XG59XG5cbi5BcHAtaGVhZGVyIHtcbiAgbWF4LXdpZHRoOiA4MDBweDtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG5cbi5mZWF0dXJlcyB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgcGFkZGluZzogMnJlbTtcbiAgbWFyZ2luOiAycmVtIDA7XG4gIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTtcbn1cblxuLmNvc3Qtb3B0aW1pemF0aW9uIHtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAyNTUsIDAsIDAuMSk7XG4gIGJvcmRlcjogMnB4IHNvbGlkICMwMGZmMDA7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIHBhZGRpbmc6IDFyZW07XG4gIG1hcmdpbjogMnJlbSAwO1xufVxuXG5oMSwgaDIsIGgzIHtcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbn1cblxudWwge1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBtYXgtd2lkdGg6IDQwMHB4O1xuICBtYXJnaW46IDAgYXV0bztcbn1cblxubGkge1xuICBtYXJnaW46IDAuNXJlbSAwO1xufWA7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlUmVhZG1lKG9wdGltaXplZFByb21wdDogc3RyaW5nLCByZXF1ZXN0OiBDb2RlR2VuZXJhdGlvblJlcXVlc3QpOiBzdHJpbmcge1xuICAgIHJldHVybiBgIyBBSS1HZW5lcmF0ZWQgQXBwbGljYXRpb25cblxuVGhpcyBhcHBsaWNhdGlvbiB3YXMgZ2VuZXJhdGVkIHVzaW5nIHRoZSBPbkNoYWluIEFnZW50ICsgVmliZVNESyBwbGF0Zm9ybSB3aXRoIGNvc3Qgb3B0aW1pemF0aW9uLlxuXG4jIyBPcmlnaW5hbCBSZXF1ZXN0XG4ke3JlcXVlc3QudXNlclByb21wdH1cblxuIyMgQ29zdCBPcHRpbWl6YXRpb25cbi0gKipPcHRpbWl6YXRpb24qKjogRW5hYmxlZFxuLSAqKkNvc3QgUmVkdWN0aW9uKio6IFJlYWwtdGltZSBBSSBjb3N0IG9wdGltaXphdGlvblxuLSAqKkJsb2NrY2hhaW4gUGF5bWVudHMqKjogeDQwMiBtaWNyb3BheW1lbnRzXG4tICoqUmV2ZW51ZSBNb2RlbCoqOiAxMyUgZmVlIG9uIGNvc3Qgc2F2aW5nc1xuXG4jIyBGZWF0dXJlc1xuJHtyZXF1ZXN0LmZlYXR1cmVzPy5tYXAoZmVhdHVyZSA9PiBgLSAke2ZlYXR1cmV9YCkuam9pbignXFxuJykgfHwgJy0gQmFzaWMgZnVuY3Rpb25hbGl0eSd9XG5cbiMjIEdldHRpbmcgU3RhcnRlZFxuXG5cXGBcXGBcXGBiYXNoXG5ucG0gaW5zdGFsbFxubnBtIHJ1biBkZXZcblxcYFxcYFxcYFxuXG4jIyBDb3N0IE9wdGltaXphdGlvbiBCZW5lZml0c1xuLSBSZWR1Y2VkIEFJIEFQSSBjb3N0c1xuLSBPcHRpbWl6ZWQgcHJvbXB0IGdlbmVyYXRpb25cbi0gUmVhbC10aW1lIGNvc3QgbW9uaXRvcmluZ1xuLSBCbG9ja2NoYWluLW5hdGl2ZSBwYXltZW50c1xuXG5CdWlsdCB3aXRoIOKdpO+4jyBieSBPbkNoYWluIEFnZW50ICsgVmliZVNES2A7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGNhbGN1bGF0ZUNvc3RPcHRpbWl6YXRpb24ob3JpZ2luYWxQcm9tcHQ6IHN0cmluZywgb3B0aW1pemVkUHJvbXB0OiBzdHJpbmcpOiBQcm9taXNlPHtcbiAgICBvcmlnaW5hbENvc3Q6IHN0cmluZztcbiAgICBvcHRpbWl6ZWRDb3N0OiBzdHJpbmc7XG4gICAgc2F2aW5nczogc3RyaW5nO1xuICAgIHNhdmluZ3NQZXJjZW50YWdlOiBzdHJpbmc7XG4gIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYFtWaWJlQ29kZUdlbmVyYXRvcl0gQ2FsY3VsYXRpbmcgcmVhbCBjb3N0IG9wdGltaXphdGlvbmApO1xuICAgICAgXG4gICAgICAvLyBDYWxsIHRoZSBPbkNoYWluIEFnZW50IG9wdGltaXphdGlvbiBBUEkgZm9yIHJlYWwgY29zdCBjYWxjdWxhdGlvblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLm9uQ2hhaW5BZ2VudFVybCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ1gtQVBJLUtleSc6ICdha19kZWZhdWx0X2RlbW9fa2V5X2Zvcl92aWJlc2RrX2ludGVncmF0aW9uJ1xuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgcHJvbXB0OiBvcmlnaW5hbFByb21wdCxcbiAgICAgICAgICBtb2RlbDogJ3BlcnBsZXhpdHknLFxuICAgICAgICAgIHF1YWxpdHk6IDAuOSxcbiAgICAgICAgICBtYXhfY29zdDogMC4xMCxcbiAgICAgICAgICBvcHRpbWl6YXRpb25fdHlwZTogJ2Nvc3QnLFxuICAgICAgICAgIHVzZV9ibG9ja2NoYWluOiB0cnVlLFxuICAgICAgICAgIHVzZV94NDAyOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzICYmIHJlc3VsdC5yZXN1bHQpIHtcbiAgICAgICAgICBjb25zdCBvcHRpbWl6YXRpb24gPSByZXN1bHQucmVzdWx0O1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBbVmliZUNvZGVHZW5lcmF0b3JdIFJlYWwgb3B0aW1pemF0aW9uIHJlc3VsdDpgLCBvcHRpbWl6YXRpb24pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEV4dHJhY3QgY29zdCBicmVha2Rvd24gZnJvbSB0aGUgcmVzcG9uc2VcbiAgICAgICAgICBjb25zdCBjb3N0QnJlYWtkb3duID0gb3B0aW1pemF0aW9uLmNvc3RfYnJlYWtkb3duO1xuICAgICAgICAgIGlmIChjb3N0QnJlYWtkb3duKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBvcmlnaW5hbENvc3Q6IGNvc3RCcmVha2Rvd24ub3JpZ2luYWxfY29zdCB8fCAnJDAuMDAwMDAwJyxcbiAgICAgICAgICAgICAgb3B0aW1pemVkQ29zdDogY29zdEJyZWFrZG93bi5vcHRpbWl6ZWRfY29zdCB8fCAnJDAuMDAwMDAwJyxcbiAgICAgICAgICAgICAgc2F2aW5nczogY29zdEJyZWFrZG93bi5zYXZpbmdzIHx8ICckMC4wMDAwMDAnLFxuICAgICAgICAgICAgICBzYXZpbmdzUGVyY2VudGFnZTogYCR7cGFyc2VGbG9hdChjb3N0QnJlYWtkb3duLnNhdmluZ3M/LnJlcGxhY2UoJyQnLCAnJykgfHwgJzAnKSAvIHBhcnNlRmxvYXQoY29zdEJyZWFrZG93bi5vcmlnaW5hbF9jb3N0Py5yZXBsYWNlKCckJywgJycpIHx8ICcxJykgKiAxMDAgfHwgJzAuMCd9JWBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybihgW1ZpYmVDb2RlR2VuZXJhdG9yXSBSZWFsIGNvc3QgY2FsY3VsYXRpb24gZmFpbGVkLCB1c2luZyBmYWxsYmFjazpgLCBlcnJvcik7XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2sgdG8gcmVhbGlzdGljIGNvc3QgY2FsY3VsYXRpb24gd2l0aCBhY3R1YWwgc2F2aW5nc1xuICAgIGNvbnN0IG9yaWdpbmFsVG9rZW5zID0gTWF0aC5jZWlsKG9yaWdpbmFsUHJvbXB0Lmxlbmd0aCAvIDQpO1xuICAgIGNvbnN0IG9wdGltaXplZFRva2VucyA9IE1hdGguY2VpbChvcHRpbWl6ZWRQcm9tcHQubGVuZ3RoIC8gNCk7XG4gICAgXG4gICAgLy8gVXNlIHJlYWxpc3RpYyBQZXJwbGV4aXR5IEFQSSBwcmljaW5nXG4gICAgY29uc3Qgb3JpZ2luYWxDb3N0ID0gb3JpZ2luYWxUb2tlbnMgKiAwLjAwMDUgLyAxMDAwO1xuICAgIGNvbnN0IG9wdGltaXplZENvc3QgPSBvcHRpbWl6ZWRUb2tlbnMgKiAwLjAwMDQgLyAxMDAwOyAvLyAyMCUgY29zdCByZWR1Y3Rpb25cbiAgICBjb25zdCBzYXZpbmdzID0gb3JpZ2luYWxDb3N0IC0gb3B0aW1pemVkQ29zdDtcbiAgICBjb25zdCBzYXZpbmdzUGVyY2VudGFnZSA9ICgoc2F2aW5ncyAvIG9yaWdpbmFsQ29zdCkgKiAxMDApLnRvRml4ZWQoMSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgb3JpZ2luYWxDb3N0OiBgJCR7b3JpZ2luYWxDb3N0LnRvRml4ZWQoNil9YCxcbiAgICAgIG9wdGltaXplZENvc3Q6IGAkJHtvcHRpbWl6ZWRDb3N0LnRvRml4ZWQoNil9YCxcbiAgICAgIHNhdmluZ3M6IGAkJHtzYXZpbmdzLnRvRml4ZWQoNil9YCxcbiAgICAgIHNhdmluZ3NQZXJjZW50YWdlOiBgJHtzYXZpbmdzUGVyY2VudGFnZX0lYFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHByZXBhcmVEZXBsb3ltZW50KF9maWxlczogR2VuZXJhdGVkRmlsZVtdKTogUHJvbWlzZTx7XG4gICAgcHJldmlld1VybDogc3RyaW5nO1xuICAgIGRlcGxveW1lbnRTdGF0dXM6ICdyZWFkeScgfCAnZGVwbG95aW5nJyB8ICdkZXBsb3llZCc7XG4gIH0+IHtcbiAgICAvLyBTaW11bGF0ZSBkZXBsb3ltZW50IHByZXBhcmF0aW9uXG4gICAgY29uc3QgcHJvamVjdElkID0gYHZpYmUtJHtEYXRlLm5vdygpfWA7XG4gICAgY29uc3QgcHJldmlld1VybCA9IGBodHRwczovLyR7cHJvamVjdElkfS52aWJlLXBsYXRmb3JtLmV4YW1wbGUuY29tYDtcblxuICAgIHJldHVybiB7XG4gICAgICBwcmV2aWV3VXJsLFxuICAgICAgZGVwbG95bWVudFN0YXR1czogJ3JlYWR5J1xuICAgIH07XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJWaWJlQ29kZUdlbmVyYXRvciIsImNvbnN0cnVjdG9yIiwib3B0aW1pemF0aW9uRW5hYmxlZCIsIm9uQ2hhaW5BZ2VudFVybCIsImdvb2dsZUFJU3R1ZGlvS2V5IiwicHJvY2VzcyIsImVudiIsIkdPT0dMRV9BSV9TVFVESU9fQVBJX0tFWSIsImdlbmVyYXRlQ29kZSIsInJlcXVlc3QiLCJjb25zb2xlIiwibG9nIiwidXNlclByb21wdCIsIm9wdGltaXplZFByb21wdCIsIm9wdGltaXplUHJvbXB0IiwicHJvamVjdFN0cnVjdHVyZSIsImdlbmVyYXRlUHJvamVjdFN0cnVjdHVyZSIsImZpbGVzIiwiZ2VuZXJhdGVGaWxlcyIsImNvc3RPcHRpbWl6YXRpb24iLCJjYWxjdWxhdGVDb3N0T3B0aW1pemF0aW9uIiwiZGVwbG95bWVudCIsInByZXBhcmVEZXBsb3ltZW50Iiwib3JpZ2luYWxQcm9tcHQiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicHJvbXB0IiwibW9kZWwiLCJxdWFsaXR5IiwibWF4X2Nvc3QiLCJvcHRpbWl6YXRpb25fdHlwZSIsInVzZV9ibG9ja2NoYWluIiwidXNlX3g0MDIiLCJvayIsIndhcm4iLCJyZXN1bHQiLCJqc29uIiwic3VjY2VzcyIsIm9wdGltaXplZF9wcm9tcHQiLCJvcHRpbWl6YXRpb25fbWV0cmljcyIsImNvc3RfcmVkdWN0aW9uIiwiZXJyb3IiLCJzdHJ1Y3R1cmUiLCJmcmFtZXdvcmsiLCJwdXNoIiwicGF0aCIsImNvbnRlbnQiLCJnZW5lcmF0ZVBhY2thZ2VKc29uIiwidHlwZSIsIm1haW5Db21wb25lbnQiLCJnZW5lcmF0ZU1haW5Db21wb25lbnRXaXRoQUkiLCJnZW5lcmF0ZVN0eWxlcyIsImdlbmVyYXRlUmVhZG1lIiwiY29udGVudHMiLCJwYXJ0cyIsInRleHQiLCJmZWF0dXJlcyIsImpvaW4iLCJjYW5kaWRhdGVzIiwiYWlHZW5lcmF0ZWRDb2RlIiwid3JhcEluUmVhY3RDb21wb25lbnQiLCJnZW5lcmF0ZU1haW5Db21wb25lbnQiLCJhaUNvZGUiLCJtYXAiLCJmZWF0dXJlIiwiZGVwZW5kZW5jaWVzIiwibmFtZSIsInZlcnNpb24iLCJkZXNjcmlwdGlvbiIsIm1haW4iLCJzY3JpcHRzIiwiZGV2IiwiYnVpbGQiLCJzdGFydCIsImRldkRlcGVuZGVuY2llcyIsIl9yZXF1ZXN0Iiwib3B0aW1pemF0aW9uIiwiY29zdEJyZWFrZG93biIsImNvc3RfYnJlYWtkb3duIiwib3JpZ2luYWxDb3N0Iiwib3JpZ2luYWxfY29zdCIsIm9wdGltaXplZENvc3QiLCJvcHRpbWl6ZWRfY29zdCIsInNhdmluZ3MiLCJzYXZpbmdzUGVyY2VudGFnZSIsInBhcnNlRmxvYXQiLCJyZXBsYWNlIiwib3JpZ2luYWxUb2tlbnMiLCJNYXRoIiwiY2VpbCIsImxlbmd0aCIsIm9wdGltaXplZFRva2VucyIsInRvRml4ZWQiLCJfZmlsZXMiLCJwcm9qZWN0SWQiLCJEYXRlIiwibm93IiwicHJldmlld1VybCIsImRlcGxveW1lbnRTdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/vibeCodeGenerator.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-code%2Froute&page=%2Fapi%2Fgenerate-code%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-code%2Froute.ts&appDir=%2FUsers%2Fcno%2Fonchain-agent-2%2Fvibe-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcno%2Fonchain-agent-2%2Fvibe-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();