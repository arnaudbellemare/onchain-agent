"use strict";(()=>{var e={};e.id=246,e.ids=[246],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9978:(e,t,o)=>{o.r(t),o.d(t,{originalPathname:()=>l,patchFetch:()=>b,requestAsyncStorage:()=>u,routeModule:()=>c,serverHooks:()=>d,staticGenerationAsyncStorage:()=>m});var r={};o.r(r),o.d(r,{POST:()=>p});var i=o(9303),s=o(8716),n=o(670),a=o(7070);async function p(e){try{let{prompt:t,model:o="perplexity",quality:r=.9,max_cost:i=.1,optimization_type:s="cost",use_blockchain:n=!0,use_x402:p=!0}=await e.json();if(!t)return a.NextResponse.json({success:!1,error:"Prompt is required"},{status:400});console.log("[VibeSDK] Optimizing prompt for AI coding platform");let c=await fetch("http://localhost:3000/api/v1/optimize",{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":"ak_c88d0dde13eaacbead83331aef5667f9feff0129425bba4bbb8143add2e9ec73"},body:JSON.stringify({prompt:t,model:o,quality:r,max_cost:i,optimization_type:s,use_blockchain:n,use_x402:p})});if(!c.ok)throw Error(`Optimization failed: ${c.statusText}`);let u=await c.json();if(!u.success)throw Error(`Optimization error: ${u.error}`);let m=u.result.optimized_prompt,d=u.result.cost_breakdown,l=u.result.optimization_metrics;return console.log(`[VibeSDK] Optimization completed: ${l.cost_reduction}% cost reduction`),a.NextResponse.json({success:!0,result:{original_prompt:t,optimized_prompt:m,cost_breakdown:d,optimization_metrics:l,vibe_platform:{integration:"OnChain Agent + VibeSDK",cost_optimization:"Real-time AI cost reduction",blockchain_payments:"x402 micropayments enabled",revenue_model:"13% fee on cost savings"},timestamp:new Date().toISOString()}})}catch(e){return console.error("VibeSDK optimization error:",e),a.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Unknown error occurred"},{status:500})}}let c=new i.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/vibe-optimize/route",pathname:"/api/vibe-optimize",filename:"route",bundlePath:"app/api/vibe-optimize/route"},resolvedPagePath:"/Users/cno/onchain-agent-2/vibe-platform/src/app/api/vibe-optimize/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:u,staticGenerationAsyncStorage:m,serverHooks:d}=c,l="/api/vibe-optimize/route";function b(){return(0,n.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:m})}}};var t=require("../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),r=t.X(0,[276,972],()=>o(9978));module.exports=r})();